<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fake Call</title>

<style>
body{
  margin:0;
  background:#0f0f0f;
  font-family:Arial, sans-serif;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

.card{
  background:#1c1c1c;
  padding:25px;
  width:360px;
  border-radius:12px;
  box-shadow:0 0 20px rgba(0,0,0,0.5);
}

h1{
  text-align:center;
  margin-bottom:20px;
}

.tabs{
  display:flex;
  gap:10px;
  margin-bottom:15px;
}

.tabs button{
  flex:1;
  padding:10px;
  border:none;
  border-radius:6px;
  cursor:pointer;
  background:#2a2a2a;
  color:#fff;
}

.tabs button.active{
  background:#00c853;
}

input, select{
  width:100%;
  padding:10px;
  margin:8px 0;
  border:none;
  border-radius:6px;
}

button.generate{
  width:100%;
  padding:10px;
  margin-top:10px;
  border:none;
  border-radius:6px;
  background:#00c853;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

button.generate:hover{
  background:#00a844;
}

#result{
  margin-top:15px;
  text-align:center;
}

#result img{
  max-width:100%;
  border-radius:8px;
}

.loading{
  opacity:0.7;
  font-size:14px;
}
</style>
</head>
<body>

<div class="card">
  <h1>üìû Fake Generator</h1>

  <div class="tabs">
    <button id="tabCall" class="active">Fake Call</button>
    <button id="tabDev">Fake Dev</button>
  </div>

  <!-- FAKE CALL -->
  <form id="formCall">
    <input type="text" name="nama" placeholder="Nama kontak" required>
    <input type="text" name="waktu" placeholder="Contoh: 12:00" required>
    <input type="text" name="image" placeholder="URL gambar (harus online)" required>
    <button class="generate">Generate</button>
  </form>

  <!-- FAKE DEV -->
  <form id="formDev" style="display:none;">
    <input type="text" name="username" placeholder="Username" required>
    <input type="text" name="image" placeholder="URL gambar (harus online)" required>
    <select name="verified">
      <option value="true">Verified</option>
      <option value="false">Not Verified</option>
    </select>
    <button class="generate">Generate</button>
  </form>

  <div id="result"></div>
</div>

<script>
const tabCall = document.getElementById("tabCall");
const tabDev = document.getElementById("tabDev");
const formCall = document.getElementById("formCall");
const formDev = document.getElementById("formDev");
const result = document.getElementById("result");

tabCall.onclick = () => {
  tabCall.classList.add("active");
  tabDev.classList.remove("active");
  formCall.style.display = "block";
  formDev.style.display = "none";
  result.innerHTML="";
};

tabDev.onclick = () => {
  tabDev.classList.add("active");
  tabCall.classList.remove("active");
  formDev.style.display = "block";
  formCall.style.display = "none";
  result.innerHTML="";
};

async function send(endpoint, data){
  result.innerHTML = "<div class='loading'>‚è≥ Generating...</div>";

  try{
    const res = await fetch(endpoint,{
      method:"POST",
      headers:{
        "Content-Type":"application/json"
      },
      body:JSON.stringify(data)
    });

    if(!res.ok){
      const err = await res.json();
      throw new Error(err.message || "Server error");
    }

    const blob = await res.blob();
    const imgUrl = URL.createObjectURL(blob);

    result.innerHTML = "<img src='"+imgUrl+"'>";
  }catch(err){
    result.innerHTML = "<div style='color:red;'>‚ùå "+err.message+"</div>";
  }
}

formCall.onsubmit = (e)=>{
  e.preventDefault();
  const data = Object.fromEntries(new FormData(formCall));
  send("/api/fakecall", data);
};

formDev.onsubmit = (e)=>{
  e.preventDefault();
  const data = Object.fromEntries(new FormData(formDev));
  send("/api/fakedev", data);
};
</script>

</body>
                                          </html> 
